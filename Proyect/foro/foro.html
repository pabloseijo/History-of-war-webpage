<!DOCTYPE html>
<html>

<head lang="es">
    <link rel="stylesheet" href="./foro.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FORO HISTORICO</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#miForm').submit(function (event) {
                // Evitar el envío del formulario predeterminado
                event.preventDefault();

                // Obtener el valor del campo de texto
                let texto = $('#input_txt').val();

                // Obtener el archivo cargado
                let archivo = $('#myfile')[0].files[0];

                // Crear un nuevo elemento div con la clase "post"
                let nuevoPost = $('<div class="post"></div>');

                // Crear un elemento img para la imagen del post
                let nuevaImagen = $('<img class="img_post">');
                nuevaImagen.attr('src', URL.createObjectURL(archivo));

                // Crear un elemento p para el texto del post
                let nuevoParrafo = $('<p class="texto"></p>');
                nuevoParrafo.text(texto);

                // Añadir la imagen y el texto al nuevo elemento "post"
                nuevoPost.append(nuevaImagen);
                nuevoPost.append('<h2>Meme Monday</h2>');
                nuevoPost.append('<div class="info"><img class="pfp" src="../Images/pfp.png" width="50px" height="50px"><p class="autor">AUTOR</p></div>');
                nuevoPost.append(nuevoParrafo);

                // Añadir el nuevo elemento "post" al documento
                $('.formulario').before(nuevoPost);

                // Limpiar el formulario después de enviar
                $('#miForm')[0].reset();
            });
        });
    </script>
</head>

<body>

    <aside>HOLA NIÑOS</aside>
    <main>
        <div class="post">
            <img class="img_post" src="../Images/batallaCannas.png">
            <h2>Meme Monday</h2>
            <div class="info">
                <img class="pfp" src="../Images/pfp.png" width="50px" height="50px">
                <p class="autor">AUTOR</p>
            </div>
            <p class="texto">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorem doloremque impedit delectus. Optio voluptate est velit eligendi aperiam dolorem quos nobis aspernatur numquam, aliquam voluptatum minima ipsum tempore repellendus? Quia!</p>
        </div>

        <div class="post">
            <img class="img_post" src="../Images/guerrasNapoleonicas.png">
            <h2>Meme Monday</h2>
            <div class="info">
                <img class="pfp" src="../Images/pfp.png" width="50px" height="50px">
                <p class="autor">AUTOR</p>
            </div>
            <p class="texto">Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo ducimus eius nihil minima accusamus! Tenetur optio maxime harum doloremque possimus necessitatibus nostrum totam dolor dolorum. Aliquam blanditiis aspernatur voluptatibus dignissimos.</p>
        </div>
        <div class="formulario">
            <form id="miForm">
                <input type="text" id="input_txt" value="Comparte tu idea">
                <input type="submit" id="submit" value="Submit">
                <input type="file" id="myfile" name="myfile">
            </form>
        </div>
    </main>
</body>

</html>